{% extends "timetable/tmt_base.html" %}
{% block content %}
<h1>Does not work if received timetable is not full...</h1>
<h2>What have to be done to skip certain hours if there is not assignement</h2>
        <h1>Timetable for grouping: {{ grouping.name }}</h1>
        {% regroup timetable|dictsort:"hour" by hour as hours_list %}
        <table id="id_timetable_table"  class="table table-striped table-bordered">
        <tr><th>Hour</th><th>Monday</th><th>Tuesday</th><th>Wednesday</th><th>Thursday</th><th>Friday</th></tr>
         {% for hour in hours_list %}
         <tr>
        <td>{{ hour.grouper }}</td>
        {% for dayhour in hour.list %}
        <td><b>{{ dayhour.subject.abv }}</b><br /><i>{{ dayhour.teacher}}</i></td>
        {% endfor %}
        </tr>
         {% endfor %}
         </table>
         <p>I don't know how to set hours name properly. I'm using forloop.counter, but I would like to selec the names from the database</p>
         <p>{% for k in h.0 %}{{k.hour}}{% endfor %} does not work either if the first h element is null. Also if any row is empty it doesn't
         display it's hour</p>
        <table id="id_timetable_table"  class="table table-striped table-bordered">
         <tr>
            <td   style="width: 5%">Hour</td>
            {% for d in days %}
            <th  style="width: 10%">{{ d }}</th>
            {% endfor %}
         </tr>
         {% for h in tt %}
         <tr>
            <td> {% for k in h.0 %}{{k.hour}}{% endfor %}</td>
            {% for d in h %}
            <td>{% for s in d %}<b>{{ s.subject }}</b>{% endfor %}</td>
            {% endfor %}
         </tr>
         {% endfor %}
        </table>
        
        <h1>Timetable</h1>
        <table id="id_list_table"  class="table table-striped">
        <tr><th>Day</th><th>Hour</th><th>Grouping</th><th>Subject</th><th>Teacher</th></tr>
                 {% for time in timetable %}
                     <tr><td>{{ time.day }}</td><td>{{ time.hour }}</td><td>{{ time.grouping }}</td><td>{{ time.subject }}</td><td>{{ time.teacher }}</td></tr>
                {% endfor %}
        </table>
        
        
{% endblock %}